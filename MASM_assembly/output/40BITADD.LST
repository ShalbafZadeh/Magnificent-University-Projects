Microsoft (R) Macro Assembler Version 6.11		    06/04/15 14:36:37
40BITADD.ASM						     Page 1 - 1


				; add two 40bit integers
				;------------
				; stack segment :
 0000				STSEG SEGMENT
 0000  0040 [			  DB 64 DUP (?)
        00
       ]
 0040				STSEG ENDS
				;------------
				; data segment :
 0000				DTSEG SEGMENT
				  ; place program data here
 0000				  first DQ 1100A8C054H ; this is a 40bit number
       0000001100A8C054
				  ORG 10H
 0010				  second DQ 63917788D7H ; this is another
       00000063917788D7
				  ORG 20H
 0020				  result DQ 00H ; here we will store the result
       0000000000000000
 0028				DTSEG ENDS
				;------------
				; code segment :
 0000				CDSEG SEGMENT
 0000				  MAIN PROC FAR ; main() {
				  ASSUME CS:CDSEG, DS:DTSEG, SS:STSEG
 0000  B8 ---- R		  MOV AX, DTSEG
 0003  8E D8			  MOV DS, AX
				  ; main code starts here
				  
				  ; initialize
 0005  B9 0003			  MOV CX, 03 ; cx = 3
 0008  BB 0000			  MOV BX, 00 ; will be used to move over words
 000B  BE 0000 R		  MOV SI, OFFSET first ; address of the first number
				  
 000E  F8			  CLC ; clear carry flag
 000F				  loop1:
 000F  8B 00			    MOV AX, [SI+BX] ; ax = 16bits of the first number
 0011  13 40 10			    ADC AX, [SI+BX+10H] ; Add with Carry. ax = ax + 16bits of the second number + CF
 0014  89 40 20			    MOV [SI+BX+20H], AX ; 16bits of result = ax
 0017  43			    INC BX ; bx++
 0018  43			    INC BX ; bx++
 0019  E2 F4			    LOOP loop1 ; cx--; if (cx != 0) goto loop1
				  
				  ; terminate (end) program ; return(0) }
 001B				  terminate:
 001B  B4 4C			  MOV AH, 4CH
 001D  CD 21			  INT 21H
 001F				  MAIN ENDP
 001F				CDSEG ENDS
				  END MAIN
Microsoft (R) Macro Assembler Version 6.11		    06/04/15 14:36:37
40BITADD.ASM						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

CDSEG  . . . . . . . . . . . . .	16 Bit	 001F	  Para	  Private 
DTSEG  . . . . . . . . . . . . .	16 Bit	 0028	  Para	  Private 
STSEG  . . . . . . . . . . . . .	16 Bit	 0040	  Para	  Private 


Procedures,  parameters and locals:

                N a m e                 Type     Value    Attr

MAIN . . . . . . . . . . . . . .	P Far	 0000	  CDSEG	Length= 001F Private


Symbols:

                N a m e                 Type     Value    Attr

first  . . . . . . . . . . . . .	QWord	 0000	  DTSEG	
loop1  . . . . . . . . . . . . .	L Near	 000F	  CDSEG	
result . . . . . . . . . . . . .	QWord	 0020	  DTSEG	
second . . . . . . . . . . . . .	QWord	 0010	  DTSEG	
terminate  . . . . . . . . . . .	L Near	 001B	  CDSEG	

	   0 Warnings
	   0 Errors
